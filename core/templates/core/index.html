{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="card col-2 row-2" id="blog">
        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <span class="card-label">Recent Updates</span>
            <a href="{% url 'blog_home' %}" style="font-size: 0.75rem; color: var(--accent-color); text-decoration: none; font-weight: 700;">View All â†’</a>
        </div>
        <div class="blog-list">
            {% if posts %}
                {% for post in posts|slice:":3" %}
                <a href="{% url 'post_detail' post.id %}" class="blog-link">
                    <div class="blog-item">
                        <h4>{{ post.title.rendered }}</h4>
                        <p>{{ post.excerpt.rendered|striptags|truncatechars:60 }}</p>
                    </div>
                </a>
                {% endfor %}
            {% else %}
                <p style="color:var(--text-dim)">ì‘ì„±ëœ í¬ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            {% endif %}
        </div>
    </div>

    <div class="card" onclick="showFortune()" style="cursor: pointer;">
        <span class="card-label">Daily Pick</span>
        <h3 class="card-title" id="fortune-title">ì˜¤ëŠ˜ì˜ ë¬¸êµ¬</h3>
        <p id="fortune-display" style="transition: opacity 0.3s ease; font-size: 0.9rem; color: var(--text-dim); margin-top: 10px;">
            í´ë¦­í•˜ì—¬ í™•ì¸
        </p>
        <div class="util-icon">âœ¨</div>
    </div>

    <a href="{% url 'roulette' %}" class="card grid-item">
        <span class="card-label">Tool</span>
        <div class="card-title">ëŒë¦¼íŒ</div>
        <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: 8px;">
            ë©€í‹° ë£°ë › ë„êµ¬ ì‹¤í–‰
        </p>
        <div class="util-icon">ğŸ¡</div>
    </a>

    <a href="{% url 'games_lobby' %}" class="card col-2" id="games">
        <span class="card-label">Entertainment</span>
        <div class="card-title">Mini Games</div>
        <div style="display: flex; gap: 15px; margin-top: 15px; font-size: 0.9rem; color: var(--accent-color); font-weight: 600;">
            <span>Wordle</span>
            <span style="color: var(--text-dim)">â€¢</span>
            <span>2048</span>
            <span style="color: var(--text-dim)">â€¢</span>
            <span>Reaction</span>
        </div>
        <div class="util-icon" style="font-size: 1.5rem; position: absolute; bottom: 20px; right: 20px;">ğŸ®</div>
    </a>

    <a href="{% url 'ladder' %}" class="card grid-item">
        <span class="card-label">Tool</span>
        <div class="card-title">ì‚¬ë‹¤ë¦¬ íƒ€ê¸°</div>
        <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: 8px;">
            ê²½ë¡œ ì¶”ì  ê²Œì„
        </p>
        <div class="util-icon">ğŸªœ</div>
    </a>

    <div class="card">
        <span class="card-label">Coming Soon</span>
        <div class="card-title">ìƒˆë¡œìš´ ê¸°ëŠ¥</div>
        <div class="util-icon">â•</div>
    </div>
</div>

<style>
    /* (ì¶”ê°€) ë§í¬í˜• ì¹´ë“œê°€ ì¼ë°˜ ì¹´ë“œì™€ ë˜‘ê°™ì´ ë³´ì´ë„ë¡ ì„¤ì • */
    .container > a.card {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        text-decoration: none;
        color: inherit;
    }
    
    .blog-link { text-decoration: none; color: inherit; display: block; }
    .blog-item { border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 10px; margin-bottom: 10px; }
    .blog-item:last-child { border-bottom: none; }
</style>
{% endblock %}