{% extends 'core/base.html' %}
{% load static %}

{% block title %}{% if post %}{{ post.title.rendered }}{% else %}Not Found{% endif %} - ë¯¸ìƒë¬¼ì˜ ë˜‘ë˜‘í•œ í•˜ë£¨{% endblock %}

{% block content %}
{% if post %}
<div class="post-content-wrapper">
    <header class="post-view-header">
        <div class="post-category-tag">{{ category_name }}</div>
        <h1 class="post-view-title">{{ post.title.rendered }}</h1>
        <div class="post-view-meta">
            <span>By <strong>LB plate</strong></span>
            <span class="sep">â€¢</span>
            <span>{{ post.date|slice:":10" }}</span>
        </div>
    </header>

    <main class="post-view-body">
        {{ post.content.rendered|safe }}
    </main>

    <footer class="post-view-footer">
        <div class="nav-split-row">
            <div class="nav-item-half">
                {% if prev_post %}
                <a href="{% url 'post_detail' prev_post.id %}" class="nav-card">
                    <span class="nav-dir">â† Previous</span>
                    <div class="nav-post-title">{{ prev_post.title.rendered|truncatechars:35 }}</div>
                </a>
                {% else %}
                <div class="nav-card disabled">
                    <span class="nav-dir">Previous</span>
                    <div class="nav-post-title">ì²« ë²ˆì§¸ ê¸°ë¡ì…ë‹ˆë‹¤ ğŸ¦ </div>
                </div>
                {% endif %}
            </div>

            <div class="nav-item-half">
                {% if next_post %}
                <a href="{% url 'post_detail' next_post.id %}" class="nav-card text-right">
                    <span class="nav-dir">Next â†’</span>
                    <div class="nav-post-title">{{ next_post.title.rendered|truncatechars:35 }}</div>
                </a>
                {% else %}
                <div class="nav-card disabled text-right">
                    <span class="nav-dir">Next</span>
                    <div class="nav-post-title">ë§ˆì§€ë§‰ ê¸°ë¡ì…ë‹ˆë‹¤ âœ¨</div>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="nav-full-row">
            <a href="{% url 'blog_home' %}" class="btn-full-home">
                ë¸”ë¡œê·¸ í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </a>
        </div>
    </footer>
</div>
{% else %}
<div class="post-content-wrapper">
    <header class="post-view-header">
        <div class="post-category-tag">Not Found</div>
        <h1 class="post-view-title">ìš”ì²­í•œ ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</h1>
        <div class="post-view-meta">
            <span>ì‚­ì œë˜ì—ˆê±°ë‚˜ ì£¼ì†Œê°€ ë³€ê²½ë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
        </div>
    </header>
    <footer class="post-view-footer">
        <div class="nav-full-row">
            <a href="{% url 'blog_home' %}" class="btn-full-home">
                ë¸”ë¡œê·¸ í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </a>
        </div>
    </footer>
</div>
{% endif %}

<style>
    /* ì „ì²´ ë ˆì´ì•„ì›ƒ */
    .post-content-wrapper { max-width: 800px; margin: 0 auto; padding: 60px 20px; }
    
    /* í—¤ë” ìŠ¤íƒ€ì¼ */
    .post-view-header { margin-bottom: 50px; border-bottom: 1px solid #f0f0f0; padding-bottom: 30px; }
    .post-category-tag { color: var(--accent-color); font-weight: 800; font-size: 0.85rem; text-transform: uppercase; margin-bottom: 10px; }
    .post-view-title { font-size: 2.5rem; font-weight: 800; line-height: 1.3; color: var(--text-color); margin-bottom: 15px; }
    .post-view-meta { color: #888; font-size: 0.95rem; }
    .sep { margin: 0 10px; color: #ddd; }

    /* ë³¸ë¬¸ ìŠ¤íƒ€ì¼ */
    .post-view-body { line-height: 1.9; font-size: 1.15rem; color: #333; margin-bottom: 80px; }
    .post-view-body img { max-width: 100%; height: auto; border-radius: 12px; margin: 30px 0; }

    /* ë‚´ë¹„ê²Œì´ì…˜ ì˜ì—­ */
    .post-view-footer { margin-top: 50px; padding-top: 40px; border-top: 1px solid #eee; }
    
    /* 1ë‹¨: ì´ì „/ë‹¤ìŒ ê¸€ ì¹´ë“œ */
    .nav-split-row { display: flex; gap: 15px; margin-bottom: 15px; }
    .nav-item-half { flex: 1; }
    .nav-card {
        display: block; text-decoration: none; background: white; padding: 20px; border-radius: 16px;
        border: 1px solid #eee; transition: all 0.2s ease; height: 100%;
    }
    /* í˜¸ë²„ ì‹œ ë°°ê²½ì€ ë°ê²Œ ìœ ì§€í•˜ê³ , í…Œë‘ë¦¬ì™€ ì œëª© ìƒ‰ìƒì„ ì§„í•˜ê²Œ ë³€ê²½ */
    .nav-card:hover { border-color: var(--accent-color); background: #fcfcfc; transform: translateY(-3px); }
    .nav-card:hover .nav-post-title { color: black; } /* ì œëª© ë” ì„ ëª…í•˜ê²Œ */

    .nav-card.disabled { opacity: 0.5; background: #f9f9f9; border-style: dashed; cursor: not-allowed; }
    
    .nav-dir { font-size: 0.75rem; font-weight: 700; color: var(--accent-color); display: block; margin-bottom: 5px; }
    .nav-post-title { font-size: 0.95rem; font-weight: 600; color: var(--text-color); transition: color 0.2s; }
    .text-right { text-align: right; }

    /* 2ë‹¨: ë¸”ë¡œê·¸ í™ˆ ë²„íŠ¼ (ìˆ˜ì •ëœ ë¶€ë¶„!) */
    .nav-full-row { width: 100%; }
    .btn-full-home {
        display: flex; align-items: center; justify-content: center; width: 100%; height: 55px;
        background: var(--bg-color); color: var(--text-color); border-radius: 16px;
        text-decoration: none; font-weight: 700; font-size: 0.95rem; transition: all 0.2s ease;
        border: 1px solid #eee;
    }
    /* í˜¸ë²„ ì‹œ ë°°ê²½ì„ ê°•ì¡°ìƒ‰(íŒŒë‘/ì´ˆë¡ ë“±)ìœ¼ë¡œ ë³€ê²½í•˜ê³  ê¸€ìë¥¼ í°ìƒ‰ìœ¼ë¡œ ê³ ì • */
    .btn-full-home:hover {
        background: var(--accent-color); /* ê¸°ì¡´ var(--text-color)ì—ì„œ ë³€ê²½ */
        color: white !important; /* í°ìƒ‰ ê°•ì œ ì ìš© */
        border-color: var(--accent-color);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    @media (max-width: 768px) {
        .nav-split-row { flex-direction: column; }
        .post-view-title { font-size: 1.8rem; }
    }
</style>
{% endblock %}
